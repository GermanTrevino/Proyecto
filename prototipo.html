<!doctype html>
<html>
	<head>
		<style>
		.doc {background-color: lightblue;}
		.cami {background-color: lightblue;}
		</style>
		<title>Prototipo</title>
		<script>
			var camillasD=7;
			var per = false;
			function countDown(secs,elem) {
			var element = document.getElementById(elem);
				if(per){
					element.innerHTML = "La camilla llegara en "+secs+" seconds";
					if(secs < 1) {
						clearTimeout(timer);
						element.innerHTML = '<h2>La camilla ha llegado!</h2>';
					}
					secs--;
					var timer = setTimeout('countDown('+secs+',"'+elem+'")',1000);
				}else{
					element.innerHTML = "Esperando confirmacion";
				}
	
			}

			function imprimir(otra){
				var elem = document.getElementById(otra);
				elem.innerHTML = "Hay "+ camillasD +" camillas disponibles";
			}

			function permitirTimer(){
				per = true;
				countDown(120,"status");
			}

			function aumentarCamillas(){
				camillasD++;
				imprimir("ver");
			}

			function disminuirCamillas(){
				if(camillasD>0){
					camillasD--;
					imprimir("ver");
				}
			}

			function cambiarDispo(otr){
				var ellem = document.getElementById(otr);
				ellem.innerHTML = "Te estan pidiendo camillas";
			}

			function cambiarDisponible(ot){
				var lem = document.getElementById(ot);
				lem.innerHTML = "No hay pedidos";
			}

		</script>
	</head>
	<body>
		<p>App para Doctores</p>
		<div class="doc">
			<div id="ver">Hay 7 camillas disponibles</div>
			<p><br></br></p>
			<div id="status"></br></div>
			<p><br></br></p>
			<a onclick="countDown(120,'status'),cambiarDispo('verD');"><button>Pedir camilla</button></a>
		</div>		

		<p><br></br></p>
		<p><br></br></p>

		
		<p>App para Camilleros</p>
		<div class="cami">
		<a onclick="permitirTimer(),cambiarDisponible('verD'),disminuirCamillas();"><button>Mandar camilla</button></a>
		<p><br></br></p>
		<div id="verD">No hay pedidos</div>
		<p><br></br></p>
		<a onclick="aumentarCamillas();"><button>+</button></a>
		<a onclick="disminuirCamillas();"><button>-</button></a>
		</div>
		

	</body>
	
</html>
